!function(a){"use strict";function b(b,c){var d=b,e=a(b),f=e.data("scroller")||!1;this.el=d,this.$el=e,this.options=a.extend({scroller:f,fixedPadding:20,iconWidth:20,maxColumnWidth:function(b,c){var d=c,e=a(b),f=this.iconWidth;return e.find(".iconfont")[0]&&(d+=f),e.find(".filter:visible")[0]&&(d+=f),e.find(".sorter:visible")[0]&&(d+=f),d},metaColumnWidth:function(b){var c=a(b).data("width");return a.isNumeric(c)?parseInt(c,10):!1},setColumnWidth:function(b,c,d){var e=c,f=d,g=a(b),h="flex"===g.data("width"),i=a.isNumeric(g.data("fixed-width"))?parseInt(g.data("fixed-width"),10):!1,j=a.isNumeric(g.data("min-width"))?parseInt(g.data("min-width"),10):!1;h||(a.isNumeric(f)&&(f+=this.fixedPadding,e=Math.min(e,f)),i?e=i:j&&(e=Math.max(e,j)),g.css("width",e+"px"))}},c),this.init()}function c(c){if("string"!=typeof c)return c=g(c)?c:{},this.each(function(){a(this).data("prettyTable")||(a(this).toggleClass("prettytable",!0),a(this).data("prettyTable",new b(this,c)))});var d=this[0],f=a(d).data("prettyTable");if(!f)return"Not initialized.";if("instance"===c)return f;if(!/^\-.*/.test(c))try{return f[c].apply(f,e.call(arguments,1))}catch(h){}}var d=a.fn.prettyTable,e=Array.prototype.slice,f=Object.prototype.toString,g=function(a){return!!a&&"object"==typeof a&&"[object Object]"===f.call(a)},h=function(a){return!!a&&"[object Function]"===f.call(a)},i=function(b,c){var d=c||"12px arial",e=a("<div>"+b+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden",font:d}).appendTo(a("body")),f=e.width();return e.remove(),f},j=function(a){var b=0,c=0,d=a.length,e=-1;for(c=0;d>c;c++)e=a.charCodeAt(c),b+=e>=0&&128>=e?1:2;return b},k=String.prototype.trim?function(a){return a?a.trim():""}:function(a){return a?a.replace(/(^\s+)|(\s+$)/g,""):""};b.prototype.init=function(){this.adjustColumnWidth()},b.prototype.refresh=function(){this.adjustColumnWidth()},b.prototype.lock=function(){this.options.scroller&&this.$el.closest(".prettytable-scroll-container").off("mousewheel.pt").on("mousewheel.pt",function(){return!1}).end().trigger("lock.pt")},b.prototype.unlock=function(){this.options.scroller&&this.$el.closest(".prettytable-scroll-container").off("mousewheel.pt").end().trigger("unlock.pt")},b.prototype.adjustColumnWidth=function(){var b=this.options,c=b.fixedPadding,d=this.$el,e=d.find("thead > tr:first"),f=d.parent(),g=f.outerWidth(),l=d.parent().css("overflow"),m=d.css("font"),n=d.find("thead > tr:first > th").size(),o=0,p=function(f){var g,l,n,o=d.find("tbody:visible tr td:nth-child("+(f+1)+")"),p="";o.each(function(b,c){var d=k(a(c).text())||"";p=j(d)>j(k(p))?d:p}),n=e.find("th").eq(f),j(k(n.text()))>j(p)&&(p=k(n.text())),g=i(p,m)+c,g=h(b.maxColumnWidth)?b.maxColumnWidth(n[0],g):g,l=h(b.metaColumnWidth)?b.metaColumnWidth(n[0]):!1,b.setColumnWidth(n[0],g,l)};for(b.scroller&&"hidden"!==l&&f.css("overflow","hidden"),o=0;n>o;o++)p(o);b.scroller&&setTimeout(function(){var a;a=d.outerWidth(),a>g&&(d.css("width",a+"px"),d.toggleClass("table-scrollable",!0),d.parent().is(":not(.prettytable-scroll-container)")&&d.wrap('<div class="prettytable-scroll-container"></div>')),setTimeout(function(){var b;a=d.outerWidth(),b=d.parent().width(),b>a&&d.css("width","100%")},20),f.css("overflow",l)},20)},a.fn.prettyTable=c,a.fn.prettyTable.Constructor=b,a.PrettyTable={textWidth:i,textLength:j},a.fn.prettyTable.noConflict=function(){return a.fn.prettyTable=d,this}}(jQuery);